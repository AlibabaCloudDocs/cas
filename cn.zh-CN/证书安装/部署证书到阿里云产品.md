# 部署证书到阿里云产品

您可以通过SSL证书服务，将已签发的阿里云SSL证书、已上传的第三方SSL证书一键部署到支持的阿里云产品，实现证书在阿里云产品上的快捷应用。

-   已开通以下阿里云产品：**WAF**、**对象存储OSS**、**传统负载均衡CLB（原SLB）**、**应用负载均衡ALB**、**CDN**、**安全加速**、**全站加速**、**视频直播**、**DDoS高防**，并且在阿里云产品中配置了与证书匹配的网站域名。

    关于对应云产品的介绍和使用方法，请参见[支持一键部署证书的阿里云产品](/cn.zh-CN/产品简介/什么是SSL证书服务.md)。

-   已通过阿里云SSL证书服务签发了SSL证书，或者已将通过第三方平台签发的SSL证书上传到阿里云SSL证书服务。

    更多信息，请参见[提交证书申请](/cn.zh-CN/证书申请/提交证书申请.md)、[上传证书](/cn.zh-CN/上传证书管理/上传证书.md)。


## 部署证书到CLB、ALB的限制

通过SSL证书服务部署证书到**传统型负载均衡CLB（原SLB）**、**应用型负载均衡ALB**的场景，有以下限制：

-   如果CLB、ALB中配置了HTTPS双向认证的监听，则不支持通过SSL证书服务部署证书到CLB、ALB。

    这种情况下，您只能通过[负载均衡控制台](https://slb.console.aliyun.com/slb/overview)配置对应的证书。更多信息，请参见[使用SLB部署HTTPS业务（双向认证）](/cn.zh-CN/教程专区/CLB教程/使用SLB部署HTTPS业务（双向认证）.md)。

-   如果CLB、ALB中已经部署过证书，则只有当待部署证书的绑定域名等于或包含已部署证书的绑定域名时，才支持通过SSL证书服务部署证书到CLB、ALB（替换已部署证书）。举例说明如下：

    -   假设您已经在CLB、ALB上部署了一个单域名证书（绑定域名为`example.com`），则只有当待部署证书的绑定域名等于或包含`example.com`时（例如，待部署证书的绑定域名为`example.com`和`www.example.com`、`*.example.com`），才可以通过SSL证书服务部署证书到CLB、ALB（替换已部署证书）。
    -   假设您已经在CLB、ALB上部署了一个通配符域名证书（绑定域名为`*.example.com`），则只有当待部署证书的绑定域名等于或包含`*.example.com`时（例如，待部署证书的绑定域名为`*.example.com`和`example.com`），才可以通过SSL证书服务部署证书到CLB、ALB（替换已部署证书）。
    如果待部署证书不满足上述条件，但您仍然需要部署证书到CLB、ALB（替换已部署证书），则只能通过[负载均衡控制台](https://slb.console.aliyun.com/slb/overview)更新对应的证书。更多信息，请参见[CLB添加HTTPS监听](/cn.zh-CN/传统型负载均衡CLB/CLB用户指南/监听/添加HTTPS监听.md)、[ALB添加HTTPS监听](/cn.zh-CN/应用型负载均衡ALB/ALB用户指南/监听/添加HTTPS监听.md)。


## 操作步骤

1.  登录[SSL证书控制台](https://yundunnext.console.aliyun.com/?p=cas)。

2.  在左侧导航栏，单击**SSL证书**。

3.  通过单击对应页签，选择要操作的证书类型：

    -   **证书管理**页签：表示操作付费版SSL证书。
    -   **免费证书**页签：表示操作免费版SSL证书。
    -   **上传证书**页签：表示操作已上传的SSL证书。
    不同类型证书的部署操作相同，下文操作描述以部署付费版SSL证书为例。

4.  单击证书列表上方的证书状态下拉列表，并选择**已签发**。

    ![已签发](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3264542261/p279032.png)

    该操作将会筛选出所有已经通过CA中心签发的证书。

5.  定位到要部署的证书，单击**操作**列下的**部署**。

6.  在**证书部署**面板，从**选择云产品**下拉列表中选择一个要部署证书的云产品（例如，您要将证书部署到已接入Web应用防火墙服务进行防护的域名上，则选择**WAF**）。

    支持选择的云产品包括：**WAF**、**对象存储OSS**、**传统负载均衡CLB（原SLB）**、**应用负载均衡ALB**、**CDN**、**安全加速**、**全站加速**、**视频直播**、**DDoS高防**。

    ![证书部署的阿里云产品](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4448610161/p111871.png)

    选择云产品后，下方的域名列表会展示已接入对应云产品且和当前证书匹配的域名。

    **说明：**

    -   只有当您在对应云产品中配置了与当前证书匹配的网站域名后，域名列表中才会显示适合部署证书的域名，否则域名列表为空。
    -   针对部署证书到CLB、ALB的场景，如果不满足使用条件（具体信息，请参见[部署证书到CLB、ALB的限制](#section_stm_ojt_doh)），域名列表也会为空。
7.  从域名列表中选择要部署当前证书的域名，执行一键部署。

    支持以下三种不同方式：

    -   单击**全部部署**，将当前证书部署到所有域名。
    -   选中要部署证书的域名，单击域名列表下方的**批量部署**，将当前证书部署到选中的域名。
    -   定位到要部署证书的域名，单击**操作**列下的**部署**，将证书部署到该域名。
    部署成功后，对应域名的**已部署**状态变更为**是**，且域名列表上方的统计信息（**已部署**、**未部署**）也会自动更新。

    ![部署状态](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6028610161/p211806.png)

8.  部署完成后，关闭**证书部署**面板。

9.  查看证书部署情况。

    您可以在证书列表中，单击证书**操作**列下的**详情**，查看当前证书的部署情况。**证书详情**面板下方的**已部署**区域为您展示了已部署该证书的云产品和域名。

    ![已部署](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6028610161/p211807.png)


## 到期自动部署

对于已经部署到阿里云产品的证书，如果您为该证书开启了[托管服务（到期自动续费更新）](/cn.zh-CN/证书托管与续费/概述.md)，建议您也为该证书开启到期自动部署。证书同时开启托管和到期自动部署后，SSL证书服务会在该证书到期前自动续费更新证书，并自动将更新后的证书部署到对应的阿里云产品。关于到期自动部署的具体操作，请参见[开启到期自动部署](/cn.zh-CN/证书托管与续费/开启到期自动部署.md)。

如果您没有为证书开启托管服务，则必须在证书到期前通过续费购买手动更新证书，并手动将更新后的证书重新部署到对应的阿里云产品，才能继续使用证书。相关操作，请参见[手动续费证书](/cn.zh-CN/证书托管与续费/手动续费证书.md)。

